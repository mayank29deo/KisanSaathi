import { useState } from "react";
import { motion } from "framer-motion";
import Card from "../components/Card";
import PrimaryButton from "../components/PrimaryButton";

/**
 * ЁЯМ╛ Season-wise Crop Advisory (English + Hindi)
 */
const ADVISORY_DATA = {
  "Rabi (рд░рдмреА)": [
    {
      crop: "Wheat (рдЧреЗрд╣реВрдВ)",
      en: "Sow certified seed in mid-November to early December. Keep moisture during tillering. Apply balanced NPK. Avoid waterlogging.",
      hi: "рдкреНрд░рдорд╛рдгрд┐рдд рдмреАрдЬ рдХреЛ рдирд╡рдВрдмрд░ рдордзреНрдп рд╕реЗ рджрд┐рд╕рдВрдмрд░ рдкреНрд░рд╛рд░рдВрдн рддрдХ рдмреЛрдПрдВред рдЯрд┐рд▓рд░рд┐рдВрдЧ рдХреЗ рд╕рдордп рдирдореА рдмрдирд╛рдП рд░рдЦреЗрдВред рд╕рдВрддреБрд▓рд┐рдд рдПрдирдкреАрдХреЗ рдЙрд░реНрд╡рд░рдХ рджреЗрдВред рдЬрд▓рднрд░рд╛рд╡ рд╕реЗ рдмрдЪреЗрдВред",
    },
    {
      crop: "Barley (рдЬреМ)",
      en: "Sow in well-drained loam soil. Apply nitrogen in two splits. Control yellow rust disease timely.",
      hi: "рдЕрдЪреНрдЫреА рдЬрд▓ рдирд┐рдХрд╛рд╕реА рд╡рд╛рд▓реА рджреЛрдордЯ рдорд┐рдЯреНрдЯреА рдореЗрдВ рдмреЛрдПрдВред рдирд╛рдЗрдЯреНрд░реЛрдЬрди рджреЛ рдмрд╛рд░ рдореЗрдВ рджреЗрдВред рдкреАрд▓реА рдЬрдВрдЧ рд░реЛрдЧ рд╕реЗ рд╕рдордп рдкрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрд░реЗрдВред",
    },
    {
      crop: "Gram / Chana (рдЪрдирд╛)",
      en: "Sow in residual moisture after rice harvest. Apply Rhizobium culture and irrigate at flowering and pod filling stages.",
      hi: "рдзрд╛рди рдХрдЯрд╛рдИ рдХреЗ рдмрд╛рдж рдмрдЪреЗ рд╣реБрдП рдирдореА рдореЗрдВ рдмреБрд╡рд╛рдИ рдХрд░реЗрдВред рд░рд╛рдЗрдЬреЛрдмрд┐рдпрдо рдХрд▓реНрдЪрд░ рд▓рдЧрд╛рдПрдВ рдФрд░ рдлреВрд▓ рдЖрдиреЗ рд╡ рдлрд▓реА рднрд░рдиреЗ рдкрд░ рд╕рд┐рдВрдЪрд╛рдИ рдХрд░реЗрдВред",
    },
    {
      crop: "Mustard (рд╕рд░рд╕реЛрдВ)",
      en: "Sow early in November. Maintain 30 cm spacing. Apply potash and nitrogen. Protect from aphids.",
      hi: "рдирд╡рдВрдмрд░ рдХреЗ рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ рдмреБрд╡рд╛рдИ рдХрд░реЗрдВред рдкреМрдзреЛрдВ рдХреЗ рдмреАрдЪ 30 рд╕реЗрдореА рдХреА рджреВрд░реА рд░рдЦреЗрдВред рдкреЛрдЯрд╛рд╢ рдФрд░ рдирд╛рдЗрдЯреНрд░реЛрдЬрди рджреЗрдВред рдорд╛рд╣реВ рд╕реЗ рдлрд╕рд▓ рдХреА рд░рдХреНрд╖рд╛ рдХрд░реЗрдВред",
    },
    {
      crop: "Lentil (рдорд╕реВрд░)",
      en: "Sow in well-drained loam. Apply phosphate at sowing. Control weeds early.",
      hi: "рдЕрдЪреНрдЫреА рдЬрд▓ рдирд┐рдХрд╛рд╕реА рд╡рд╛рд▓реА рдорд┐рдЯреНрдЯреА рдореЗрдВ рдмреБрд╡рд╛рдИ рдХрд░реЗрдВред рдмреБрд╡рд╛рдИ рдХреЗ рд╕рдордп рдлрд╛рд╕реНрдлреЗрдЯ рджреЗрдВред рд╢реБрд░реБрдЖрддреА рдЕрд╡рд╕реНрдерд╛ рдореЗрдВ рдЦрд░рдкрддрд╡рд╛рд░ рдирд┐рдпрдВрддреНрд░рдг рдХрд░реЗрдВред",
    },
    {
      crop: "Peas (рдордЯрд░)",
      en: "Sow in loam soil with good drainage. Provide bamboo support. Apply phosphate fertilizer.",
      hi: "рдЕрдЪреНрдЫреА рдЬрд▓ рдирд┐рдХрд╛рд╕реА рд╡рд╛рд▓реА рдорд┐рдЯреНрдЯреА рдореЗрдВ рдмреБрд╡рд╛рдИ рдХрд░реЗрдВред рдкреМрдзреЛрдВ рдХреЛ рд╕рд╣рд╛рд░рд╛ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рдВрд╕ рд▓рдЧрд╛рдПрдВред рдлрд╛рд╕реНрдлреЗрдЯ рдЙрд░реНрд╡рд░рдХ рджреЗрдВред",
    },
    {
      crop: "Potato (рдЖрд▓реВ)",
      en: "Use healthy tubers. Apply nitrogen in two splits. Protect against late blight.",
      hi: "рд╕реНрд╡рд╕реНрде рдмреАрдЬ рдХрдВрджреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред рдирд╛рдЗрдЯреНрд░реЛрдЬрди рджреЛ рдмрд╛рд░ рдореЗрдВ рджреЗрдВред рд▓реЗрдЯ рдмреНрд▓рд╛рдЗрдЯ рд░реЛрдЧ рд╕реЗ рдлрд╕рд▓ рдХреА рд░рдХреНрд╖рд╛ рдХрд░реЗрдВред",
    },
    {
      crop: "Onion (рдкреНрдпрд╛рдЬ)",
      en: "Use 45-day-old seedlings. Maintain 10 cm spacing. Cure bulbs before storage.",
      hi: "45 рджрд┐рди рдХреА рдкреМрдз рд▓рдЧрд╛рдПрдВред рдкреМрдзреЛрдВ рдХреЗ рдмреАрдЪ 10 рд╕реЗрдореА рджреВрд░реА рд░рдЦреЗрдВред рднрдВрдбрд╛рд░рдг рд╕реЗ рдкрд╣рд▓реЗ рдкреНрдпрд╛рдЬ рдХреЛ рд╕реБрдЦрд╛рдПрдВред",
    },
  ],

  "Kharif (рдЦрд░реАрдл)": [
    {
      crop: "Rice (рдзрд╛рди)",
      en: "Transplant 25тАУ30-day-old seedlings. Maintain 3тАУ5 cm water. Apply nitrogen in three splits.",
      hi: "25тАУ30 рджрд┐рди рдкреБрд░рд╛рдиреА рдкреМрдз рд░реЛрдкреЗрдВред рдЦреЗрдд рдореЗрдВ 3тАУ5 рд╕реЗрдореА рдкрд╛рдиреА рдмрдирд╛рдП рд░рдЦреЗрдВред рдирд╛рдЗрдЯреНрд░реЛрдЬрди рддреАрди рдмрд╛рд░ рдореЗрдВ рджреЗрдВред",
    },
    {
      crop: "Maize (рдордХреНрдХрд╛)",
      en: "Use hybrid seed. Keep 20тАУ25 cm spacing. Apply nitrogen at knee-high stage.",
      hi: "рдЙрдЪреНрдЪ рдЧреБрдгрд╡рддреНрддрд╛ рд╡рд╛рд▓реЗ рд╣рд╛рдЗрдмреНрд░рд┐рдб рдмреАрдЬ рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВред рдкреМрдзреЛрдВ рдХреЗ рдмреАрдЪ 20тАУ25 рд╕реЗрдореА рдХреА рджреВрд░реА рд░рдЦреЗрдВред рдШреБрдЯрдиреЗ рдХреА рдКрдБрдЪрд╛рдИ рдкрд░ рдирд╛рдЗрдЯреНрд░реЛрдЬрди рдбрд╛рд▓реЗрдВред",
    },
    {
      crop: "Soybean (рд╕реЛрдпрд╛рдмреАрди)",
      en: "Ensure good drainage. Apply Rhizobium inoculant. Avoid excess irrigation during flowering.",
      hi: "рдЕрдЪреНрдЫреА рдЬрд▓ рдирд┐рдХрд╛рд╕реА рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВред рд░рд╛рдЗрдЬреЛрдмрд┐рдпрдо рдЗрдиреЛрдХреБрд▓реЗрдВрдЯ рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВред рдлреВрд▓ рдЖрдиреЗ рдкрд░ рдЕрдзрд┐рдХ рд╕рд┐рдВрдЪрд╛рдИ рди рдХрд░реЗрдВред",
    },
    {
      crop: "Groundnut (рдореВрдВрдЧрдлрд▓реА)",
      en: "Treat seeds with Trichoderma. Maintain moisture during pegging. Avoid harvest during rains.",
      hi: "рдмреАрдЬреЛрдВ рдХреЛ рдЯреНрд░рд╛рдЗрдХреЛрдбрд░реНрдорд╛ рд╕реЗ рдЙрдкрдЪрд╛рд░рд┐рдд рдХрд░реЗрдВред рдкреЗрдЧрд┐рдВрдЧ рдХреЗ рд╕рдордп рдирдореА рдмрдирд╛рдП рд░рдЦреЗрдВред рд╡рд░реНрд╖рд╛ рдХреЗ рд╕рдордп рдХрдЯрд╛рдИ рди рдХрд░реЗрдВред",
    },
    {
      crop: "Cotton (рдХрдкрд╛рд╕)",
      en: "Use Bt or recommended hybrid. Maintain spacing. Apply potash for boll development.",
      hi: "рдмреАрдЯреА рдпрд╛ рдЕрдиреБрд╢рдВрд╕рд┐рдд рд╣рд╛рдЗрдмреНрд░рд┐рдб рдмреАрдЬ рд▓рдЧрд╛рдПрдВред рдЙрдЪрд┐рдд рджреВрд░реА рдмрдирд╛рдП рд░рдЦреЗрдВред рдмреЙрд▓ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдкреЛрдЯрд╛рд╢ рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВред",
    },
    {
      crop: "Pigeon Pea / Arhar (рдЕрд░рд╣рд░)",
      en: "Use early varieties. Maintain 60тАУ75 cm spacing. Irrigate at flowering stage.",
      hi: "рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдХрд┐рд╕реНрдореЗрдВ рд▓рдЧрд╛рдПрдВред рдкреМрдзреЛрдВ рдХреЗ рдмреАрдЪ 60тАУ75 рд╕реЗрдореА рджреВрд░реА рд░рдЦреЗрдВред рдлреВрд▓ рдЖрдиреЗ рдкрд░ рд╕рд┐рдВрдЪрд╛рдИ рдХрд░реЗрдВред",
    },
    {
      crop: "Moong (рдореВрдВрдЧ)",
      en: "Use Rhizobium-treated seed. Provide irrigation during pod filling.",
      hi: "рд░рд╛рдЗрдЬреЛрдмрд┐рдпрдо рдЙрдкрдЪрд╛рд░рд┐рдд рдмреАрдЬ рд▓рдЧрд╛рдПрдВред рдлрд▓реА рдмрдирдиреЗ рдкрд░ рд╕рд┐рдВрдЪрд╛рдИ рдХрд░реЗрдВред",
    },
    {
      crop: "Urad (рдЙрдбрд╝рдж)",
      en: "Apply organic manure. Avoid excess nitrogen. Harvest timely to avoid shattering.",
      hi: "рдЬреИрд╡рд┐рдХ рдЦрд╛рдж рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВред рдирд╛рдЗрдЯреНрд░реЛрдЬрди рдЕрдзрд┐рдХ рдорд╛рддреНрд░рд╛ рдореЗрдВ рди рджреЗрдВред рдлрд▓реА рдЯреВрдЯрдиреЗ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордп рдкрд░ рдХрдЯрд╛рдИ рдХрд░реЗрдВред",
    },
    {
      crop: "Sugarcane (рдЧрдиреНрдирд╛)",
      en: "Plant 3-budded setts. Keep soil moist. Apply nitrogen in 3тАУ4 splits.",
      hi: "рддреАрди рдЧрд╛рдБрда рд╡рд╛рд▓реЗ рдЯреБрдХрдбрд╝реЗ рд▓рдЧрд╛рдПрдВред рдорд┐рдЯреНрдЯреА рдирдо рд░рдЦреЗрдВред рдирд╛рдЗрдЯреНрд░реЛрдЬрди 3тАУ4 рдмрд╛рд░ рдореЗрдВ рджреЗрдВред",
    },
    {
      crop: "Sorghum (рдЬреНрд╡рд╛рд░)",
      en: "Select drought-tolerant variety. Apply organic manure. Provide irrigation at booting stage.",
      hi: "рд╕реВрдЦрд╛ рд╕рд╣рдирд╢реАрд▓ рдХрд┐рд╕реНрдореЗрдВ рдЪреБрдиреЗрдВред рдЬреИрд╡рд┐рдХ рдЦрд╛рдж рджреЗрдВред рдмреВрдЯрд┐рдВрдЧ рдЕрд╡рд╕реНрдерд╛ рдореЗрдВ рд╕рд┐рдВрдЪрд╛рдИ рдХрд░реЗрдВред",
    },
  ],

  "Zaid (рдЬрд╛рдпрдж)": [
    {
      crop: "Watermelon (рддрд░рдмреВрдЬ)",
      en: "Sow in sandy loam soil. Maintain 1.5тАУ2 m spacing. Irrigate at fruit setting stage.",
      hi: "рд░реЗрддреАрд▓реА рджреЛрдордЯ рдорд┐рдЯреНрдЯреА рдореЗрдВ рдмреБрд╡рд╛рдИ рдХрд░реЗрдВред рдкреМрдзреЛрдВ рдХреЗ рдмреАрдЪ 1.5тАУ2 рдореАрдЯрд░ рдХреА рджреВрд░реА рд░рдЦреЗрдВред рдлрд▓ рдмрдирдиреЗ рдкрд░ рд╕рд┐рдВрдЪрд╛рдИ рдХрд░реЗрдВред",
    },
    {
      crop: "Cucumber (рдЦреАрд░рд╛)",
      en: "Sow on ridges. Apply organic manure. Spray neem oil for pest control.",
      hi: "рдореЗрдбрд╝реЛрдВ рдкрд░ рдмреБрд╡рд╛рдИ рдХрд░реЗрдВред рдЬреИрд╡рд┐рдХ рдЦрд╛рдж рджреЗрдВред рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг рд╣реЗрддреБ рдиреАрдо рддреЗрд▓ рдХрд╛ рдЫрд┐рдбрд╝рдХрд╛рд╡ рдХрд░реЗрдВред",
    },
    {
      crop: "Bitter Gourd (рдХрд░реЗрд▓рд╛)",
      en: "Provide trellis support. Apply cow dung manure. Irrigate every 4тАУ5 days.",
      hi: "рдЬрд╛рд▓ рдпрд╛ рдмреЗрд▓ рд╕рдорд░реНрдерди рджреЗрдВред рдЧреЛрдмрд░ рдЦрд╛рдж рдбрд╛рд▓реЗрдВред 4тАУ5 рджрд┐рди рдХреЗ рдЕрдВрддрд░рд╛рд▓ рдкрд░ рд╕рд┐рдВрдЪрд╛рдИ рдХрд░реЗрдВред",
    },
    {
      crop: "Pumpkin (рдХрджреНрджреВ)",
      en: "Maintain 2тАУ3 m spacing. Use FYM before sowing. Apply potash fertilizer.",
      hi: "рдкреМрдзреЛрдВ рдХреЗ рдмреАрдЪ 2тАУ3 рдореАрдЯрд░ рдХреА рджреВрд░реА рд░рдЦреЗрдВред рдмреБрд╡рд╛рдИ рд╕реЗ рдкрд╣рд▓реЗ рдЧреЛрдмрд░ рдХреА рдЦрд╛рдж рдбрд╛рд▓реЗрдВред рдкреЛрдЯрд╛рд╢ рдЙрд░реНрд╡рд░рдХ рджреЗрдВред",
    },
    {
      crop: "Okra / Bhindi (рднрд┐рдВрдбреА)",
      en: "Sow in well-drained soil. Apply nitrogen after 25 days. Control fruit borer.",
      hi: "рдЕрдЪреНрдЫреА рдЬрд▓ рдирд┐рдХрд╛рд╕реА рд╡рд╛рд▓реА рдорд┐рдЯреНрдЯреА рдореЗрдВ рдмреБрд╡рд╛рдИ рдХрд░реЗрдВред 25 рджрд┐рди рдмрд╛рдж рдирд╛рдЗрдЯреНрд░реЛрдЬрди рдбрд╛рд▓реЗрдВред рдлрд▓рдЫреЗрджрдХ рдХреАрдЯ рд╕реЗ рдмрдЪрд╛рд╡ рдХрд░реЗрдВред",
    },
    {
      crop: "Tomato (рдЯрдорд╛рдЯрд░)",
      en: "Use hybrid seedlings. Avoid water stagnation. Stake plants for support.",
      hi: "рд╣рд╛рдЗрдмреНрд░рд┐рдб рдкреМрдз рд▓рдЧрд╛рдПрдВред рдкрд╛рдиреА рд░реБрдХрдиреЗ рд╕реЗ рдмрдЪрд╛рдПрдВред рдкреМрдзреЛрдВ рдХреЛ рд╕рд╣рд╛рд░рд╛ рджреЗрдВред",
    },
    {
      crop: "Chilli (рдорд┐рд░реНрдЪ)",
      en: "Spray neem oil for thrips. Maintain uniform irrigation.",
      hi: "рдереНрд░рд┐рдкреНрд╕ рд╕реЗ рдмрдЪрд╛рд╡ рд╣реЗрддреБ рдиреАрдо рддреЗрд▓ рдХрд╛ рдЫрд┐рдбрд╝рдХрд╛рд╡ рдХрд░реЗрдВред рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд╕рд┐рдВрдЪрд╛рдИ рдХрд░реЗрдВред",
    },
  ],
};

export default function Advisory({ t }) {
  const [search, setSearch] = useState("");

  const filterCrop = (list) =>
    list.filter((c) =>
      c.crop.toLowerCase().includes(search.toLowerCase())
    );

  return (
    <div className="p-5 space-y-5">
      <motion.h2
        initial={{ y: -10, opacity: 0 }}
        animate={{ y: 0, opacity: 1 }}
        className="text-2xl font-bold text-brand-dark"
      >
        ЁЯМ▒ {t?.advisory || "Crop Advisory"}
      </motion.h2>

      <Card delay={0.1} className="space-y-3">
        <input
          type="text"
          placeholder="Search crop (e.g., Wheat / рдЧреЗрд╣реВрдВ)"
          value={search}
          onChange={(e) => setSearch(e.target.value)}
          className="px-3 py-2 rounded-xl border bg-white/70 w-full focus:outline-none focus:ring-2 focus:ring-emerald-400"
        />
        <div className="flex justify-end">
          <PrimaryButton onClick={() => setSearch("")}>Clear Search</PrimaryButton>
        </div>
      </Card>

      {Object.entries(ADVISORY_DATA).map(([season, crops]) => {
        const filtered = filterCrop(crops);
        if (!filtered.length) return null;
        return (
          <div key={season}>
            <h3 className="text-xl font-semibold text-emerald-700 mb-2">
              ЁЯМ╛ {season} Season Crops
            </h3>
            <motion.div
              initial="hidden"
              animate="visible"
              variants={{
                hidden: { opacity: 0 },
                visible: {
                  opacity: 1,
                  transition: { staggerChildren: 0.05 },
                },
              }}
              className="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"
            >
              {filtered.map((item, idx) => (
                <motion.div
                  key={idx}
                  variants={{
                    hidden: { opacity: 0, y: 10 },
                    visible: { opacity: 1, y: 0 },
                  }}
                >
                  <Card>
                    <h4 className="font-semibold text-lg text-brand-dark mb-2">
                      {item.crop}
                    </h4>
                    <p className="text-sm text-gray-700 leading-snug">
                      <span className="font-medium text-emerald-700">English:</span> {item.en}
                    </p>
                    <p className="text-sm text-gray-700 leading-snug mt-1">
                      <span className="font-medium text-emerald-700">рд╣рд┐рдиреНрджреА:</span> {item.hi}
                    </p>
                  </Card>
                </motion.div>
              ))}
            </motion.div>
          </div>
        );
      })}
    </div>
  );
}
